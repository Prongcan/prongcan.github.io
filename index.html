---
layout: page
# Index page
---

<script>
(function() {
  // Helper function to check if element is already in view
  function isElementInView(element, buffer = 100) {
    if (!element) return false;
    const rect = element.getBoundingClientRect();
    return rect.top <= buffer && rect.bottom >= buffer;
  }

  // Wait for sidebar to load, then modify the navigation links
  function modifySidebarLinks() {
    const sidebarLinks = document.querySelectorAll('.nav-link');
    let researchLink = null;
    let blogLink = null;
    let linkModified = false;

    sidebarLinks.forEach(link => {
      const href = link.getAttribute('href');
      const text = link.textContent.trim();

      // Modify Research and Blog links to point to home anchors
      if (href === '/research/' || href === '/research') {
        link.setAttribute('href', '#research');
        researchLink = link;
        linkModified = true;
      }
      if (href === '/blog/' || href === '/blog') {
        link.setAttribute('href', '#blog');
        blogLink = link;
        linkModified = true;
      }
    });

    // Add submenu for Research papers
    if (researchLink) {
      setTimeout(() => addResearchSubmenu(researchLink), 100);
    }

    // Add submenu for Blog posts
    if (blogLink) {
      setTimeout(() => addBlogSubmenu(blogLink), 100);
    }

    return true;
  }

  // Add submenu items under Research link
  function addResearchSubmenu(researchLink) {
    const parentLi = researchLink.closest('li');
    if (!parentLi) return;

    // Mark parent as having children
    parentLi.classList.add('nav-item-has-children');

    // Create submenu container
    const submenu = document.createElement('ul');
    submenu.className = 'sub-nav';

    // Get research papers from the page (auto-generated from YAML)
    const researchSection = document.getElementById('research');
    if (!researchSection) return;

    const pubItems = researchSection.querySelectorAll('.pub-card[id]');
    const papers = Array.from(pubItems).map(item => {
      const titleElement = item.querySelector('.pub-title');
      // Get text content, excluding links
      const title = titleElement ? (titleElement.textContent || titleElement.innerText).trim() : item.id;
      return {
        id: item.id,
        title: title
      };
    });

    // Create submenu items
    papers.forEach(paper => {
      const li = document.createElement('li');

      const a = document.createElement('a');
      a.href = `/#${paper.id}`;
      a.className = 'nav-link';
      a.textContent = paper.title;

      li.appendChild(a);
      submenu.appendChild(li);

      // Add click listener to prevent navigation and scroll instead
      a.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        const targetSection = document.getElementById(paper.id);
        if (targetSection) {
          targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
          history.replaceState(null, null, `#${paper.id}`);
        }
      });
    });

    // Insert submenu after the Research link
    parentLi.parentNode.insertBefore(submenu, parentLi.nextSibling);

    // Toggle submenu on Research link click
    researchLink.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      const isVisible = submenu.classList.contains('visible');
      const researchSection = document.getElementById('research');

      if (isVisible) {
        submenu.classList.remove('visible');
        parentLi.classList.remove('expanded');
        // Only scroll if not already in view
        if (researchSection && !isElementInView(researchSection, 150)) {
          researchSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
        setTimeout(() => history.replaceState(null, null, '#research'), 100);
      } else {
        submenu.classList.add('visible');
        parentLi.classList.add('expanded');
        // Only scroll if not already in view
        if (researchSection && !isElementInView(researchSection, 150)) {
          researchSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
        setTimeout(() => history.replaceState(null, null, '#research'), 100);
      }
    });
  }

  // Add submenu items under Blog link
  function addBlogSubmenu(blogLink) {
    const parentLi = blogLink.closest('li');
    if (!parentLi) return;

    // Mark parent as having children
    parentLi.classList.add('nav-item-has-children');

    // Create submenu container
    const submenu = document.createElement('ul');
    submenu.className = 'sub-nav';

    // Get blog posts from the page
    const blogItems = document.querySelectorAll('[id^="blog-"]');
    const blogs = Array.from(blogItems).map((item, index) => {
      const titleElement = item.querySelector('h3 a');
      return {
        id: `blog-${index + 1}`,
        title: titleElement ? titleElement.textContent.trim() : `Blog Post ${index + 1}`
      };
    });

    // Create submenu items
    blogs.forEach(blog => {
      const li = document.createElement('li');

      const a = document.createElement('a');
      a.href = `/#${blog.id}`;
      a.className = 'nav-link';
      a.textContent = blog.title;

      li.appendChild(a);
      submenu.appendChild(li);

      // Add click listener to prevent navigation and scroll instead
      a.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        const targetSection = document.getElementById(blog.id);
        if (targetSection) {
          targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
          history.replaceState(null, null, `#${blog.id}`);
        }
      });
    });

    // Insert submenu after the Blog link
    parentLi.parentNode.insertBefore(submenu, parentLi.nextSibling);

    // Toggle submenu on Blog link click
    blogLink.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      const isVisible = submenu.classList.contains('visible');
      const blogSection = document.getElementById('blog');

      if (isVisible) {
        submenu.classList.remove('visible');
        parentLi.classList.remove('expanded');
        // Only scroll if not already in view
        if (blogSection && !isElementInView(blogSection, 150)) {
          blogSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
        setTimeout(() => history.replaceState(null, null, '#blog'), 100);
      } else {
        submenu.classList.add('visible');
        parentLi.classList.add('expanded');
        // Only scroll if not already in view
        if (blogSection && !isElementInView(blogSection, 150)) {
          blogSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
        setTimeout(() => history.replaceState(null, null, '#blog'), 100);
      }
    });
  }

  // Try to modify links immediately
  if (!modifySidebarLinks()) {
    // If sidebar not ready, wait for DOM content loaded
    document.addEventListener('DOMContentLoaded', modifySidebarLinks);
  }

  // Also try after window load (in case sidebar loads late)
  window.addEventListener('load', modifySidebarLinks);

  // Also try after a short delay (for theme rendering)
  setTimeout(modifySidebarLinks, 500);

  // Unified click handler for smooth scrolling
  document.addEventListener('click', function(e) {
    const link = e.target.closest('a');
    if (!link) return;

    const href = link.getAttribute('href');
    if (!href) return;

    // Handle /research and /blog links (prevent default anchor jump)
    if (href === '/research' || href === '/research/' || href === '/blog' || href === '/blog/') {
      e.preventDefault();
      e.stopPropagation();
      const targetId = href.includes('research') ? 'research' : 'blog';
      const targetSection = document.getElementById(targetId);
      if (targetSection) {
        targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        setTimeout(() => history.replaceState(null, null, '#' + targetId), 100);
      }
      return;
    }

    // Handle paper links (vera, expinstructor, paperignition)
    if (href.startsWith('/#') && href !== '/#research' && href !== '/#blog' && !href.startsWith('/#blog-')) {
      e.preventDefault();
      e.stopPropagation();
      const pubId = href.replace('/#', '');
      const pubSection = document.getElementById(pubId);
      if (pubSection) {
        pubSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        setTimeout(() => history.replaceState(null, null, '#' + pubId), 100);
      }
      return;
    }

    // Handle blog post links
    if (href.startsWith('/#blog-')) {
      e.preventDefault();
      e.stopPropagation();
      const blogId = href.replace('/#', '');
      const blogSection = document.getElementById(blogId);
      if (blogSection) {
        blogSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        setTimeout(() => history.replaceState(null, null, '#' + blogId), 100);
      }
      return;
    }

    // Handle home link
    if (href === '/' || href === '/#') {
      e.preventDefault();
      e.stopPropagation();
      window.scrollTo({ top: 0, behavior: 'smooth' });
      setTimeout(() => history.replaceState(null, null, ' '), 100);
      return;
    }
  });

  // Handle browser back/forward buttons with smooth scrolling
  window.addEventListener('hashchange', function() {
    const hash = window.location.hash;
    if (hash) {
      const target = document.querySelector(hash);
      if (target) {
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    }
  });

  // On page load, scroll to hash if present
  if (window.location.hash) {
    setTimeout(function() {
      const target = document.querySelector(window.location.hash);
      if (target) {
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    }, 100);
  }
})();
</script>

<!-- Custom Fonts -->
<style>
@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=Crimson+Pro:ital,wght@0,400;0,500;0,600;1,400&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap');

/* Global font improvements for better readability */
body {
  font-size: 1.15rem;
  line-height: 1.75;
}

.profile-header h1 {
  font-family: 'Cormorant Garamond', Georgia, serif;
  letter-spacing: 0.05em;
}

.profile-header p,
.section-title,
.experience-list,
.paper-content,
.blog-list {
  font-family: 'Crimson Pro', Georgia, serif;
}

.section-title {
  font-family: 'Libre Baskerville', Georgia, serif;
}

/* Recently Updated - hide it */
#access-lastmod {
  display: none !important;
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Publication Card Styles */
.pub-card {
  display: flex;
  gap: 2rem;
  padding: 2rem;
  border: 1px solid var(--border-color);
  border-radius: 12px;
  background: var(--card-bg);
  margin-bottom: 2.5rem;
  min-height: 280px;
  transition: box-shadow 0.3s ease, transform 0.2s ease;
}

.pub-card:hover {
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  transform: translateY(-2px);
}

.pub-pipeline {
  flex-shrink: 0;
  width: 300px;
  height: 240px;
  background: #f8f9fa;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  border: 1px solid var(--border-color);
}

.pub-pipeline img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
}

.pub-links {
  font-size: 0.9rem;
  margin-bottom: 1rem;
  display: flex;
  gap: 1.2rem;
}

.pub-links a {
  color: var(--link-color);
  text-decoration: none;
  transition: opacity 0.2s ease;
}

.pub-links a:hover {
  opacity: 0.7;
}

/* Submenu styles */
.sub-nav {
  list-style: none;
  padding-left: 0;
  margin-left: 1rem;
  margin-top: 0.5rem;
  display: none;
}

.sub-nav.visible {
  display: block;
  animation: slideDown 0.3s ease;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.sub-nav li {
  margin-bottom: 0.3rem;
}

.sub-nav .nav-link {
  font-size: 0.9em;
  opacity: 0.8;
  transition: opacity 0.2s ease;
}

.sub-nav .nav-link:hover {
  opacity: 1;
}

/* Arrow indicator for expandable items */
.nav-item-has-children > .nav-link::after {
  content: ' ›';
  float: right;
  transition: transform 0.3s ease;
}

.nav-item-has-children.expanded > .nav-link::after {
  transform: rotate(90deg);
}

.pub-content {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.pub-title {
  font-family: 'Libre Baskerville', Georgia, serif;
  font-size: 1.35rem;
  font-weight: 600;
  margin-bottom: 0.6rem;
  line-height: 1.4;
}

.pub-title a {
  color: var(--heading-color);
  text-decoration: none;
  transition: color 0.2s ease;
}

.pub-title a:hover {
  color: var(--link-color);
}

.pub-authors {
  font-size: 0.95rem;
  color: var(--text-muted-color);
  margin-bottom: 1rem;
  font-weight: 500;
}

.pub-abstract {
  font-size: 0.95rem;
  color: var(--text-color);
  line-height: 1.75;
  margin-bottom: 1rem;
}

.pub-status {
  display: inline-block;
  padding: 0.3rem 0.8rem;
  background: #fff3cd;
  color: #856404;
  border-radius: 20px;
  font-size: 0.85rem;
  font-weight: 500;
  margin-bottom: 0.8rem;
}
</style>

<!-- Profile Header -->
<div id="home" class="profile-header" style="margin-bottom: 4rem; text-align: center;">
  <h1 style="font-size: 3.2rem; font-weight: 700; margin-bottom: 0.5rem;">Rongcan Pei</h1>
  <p style="font-size: 1.3rem; color: var(--text-muted-color); margin-bottom: 1.5rem;">Undergraduate Student at Tongji University</p>
  
  <!-- About Me -->
  <div style="max-width: 720px; margin: 0 auto; text-align: left; font-family: 'Crimson Pro', Georgia, serif; font-size: 1.1rem; line-height: 1.9; color: var(--text-color);">
    <p style="margin-bottom: 0.8rem;">
      I am an undergraduate student at <strong>Tongji University</strong>, advised by Prof. <strong>Miaomiao Zhang</strong>. 
      Since April 2025, I have been a visiting student at <strong>Westlake University</strong>, 
      where I collaborate with Prof. <strong>Yue Zhang</strong>. 
      I also work closely with Prof. <strong>Qi Zhu</strong> at <strong>Zhejiang University</strong>.
    </p>
    <p style="margin-bottom: 0;">
      My research interests lie in <em>AI for Research</em>, <em>Vision-Language Models</em>, 
      and <em>Document Reasoning</em>.
    </p>
  </div>
  
  <p style="font-size: 0.95rem; color: var(--text-muted-color); font-style: italic; opacity: 0.7; margin-top: 1.5rem;">⚠️ This website is under construction. Some content may be placeholders.</p>
</div>

<!-- Experience -->
<section id="experience" style="margin-bottom: 4rem;">
  <h2 class="section-title" style="font-size: 1.8rem; margin-bottom: 1.5rem; font-weight: 600;">Experience</h2>
  
  <div style="font-family: 'Crimson Pro', Georgia, serif;">
    <!-- Westlake University -->
    <div style="display: flex; margin-bottom: 1.5rem; padding-bottom: 1.5rem; border-bottom: 1px solid var(--border-color);">
      <div style="flex-shrink: 0; width: 140px; font-size: 0.95rem; color: var(--text-muted-color);">
        Apr 2025 – Present
      </div>
      <div style="flex: 1;">
        <h4 style="font-size: 1.15rem; margin-bottom: 0.3rem; font-weight: 600;">Visiting Student</h4>
        <p style="color: var(--link-color); margin-bottom: 0.3rem;">Westlake University</p>
        <p style="font-size: 1rem; color: var(--text-muted-color);">Advised by Prof. <strong>Yue Zhang</strong></p>
      </div>
    </div>
    
    <!-- Zhejiang University Collaboration -->
    <div style="display: flex; margin-bottom: 1.5rem; padding-bottom: 1.5rem; border-bottom: 1px solid var(--border-color);">
      <div style="flex-shrink: 0; width: 140px; font-size: 0.95rem; color: var(--text-muted-color);">
        Apr 2025 – Present
      </div>
      <div style="flex: 1;">
        <h4 style="font-size: 1.15rem; margin-bottom: 0.3rem; font-weight: 600;">Research Collaborator</h4>
        <p style="color: var(--link-color); margin-bottom: 0.3rem;">Zhejiang University</p>
        <p style="font-size: 1rem; color: var(--text-muted-color);">Advised by Prof. <strong>Qi Zhu</strong></p>
      </div>
    </div>
    
    <!-- Tongji University -->
    <div style="display: flex;">
      <div style="flex-shrink: 0; width: 140px; font-size: 0.95rem; color: var(--text-muted-color);">
        Sep 2023 – Present
      </div>
      <div style="flex: 1;">
        <h4 style="font-size: 1.15rem; margin-bottom: 0.3rem; font-weight: 600;">Undergraduate Student</h4>
        <p style="color: var(--link-color); margin-bottom: 0.3rem;">Tongji University</p>
        <p style="font-size: 1rem; color: var(--text-muted-color);">Advised by Prof. <strong>Miaomiao Zhang</strong></p>
      </div>
    </div>
  </div>
</section>

<!-- Research -->
<section id="research" style="margin-bottom: 4rem;">
  <h2 class="section-title" style="font-size: 1.8rem; margin-bottom: 2rem; font-weight: 600;">Research</h2>

  {% for pub in site.data.publications %}
  <div id="{{ pub.id }}" class="pub-card">
    <div class="pub-pipeline">
      {% if pub.image contains 'placeholder' %}
        <div style="width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 6px; color: white; font-size: 0.85rem; text-align: center; padding: 1rem;">
          <i class="fas fa-globe" style="font-size: 2.5rem; margin-bottom: 0.5rem;"></i>
          <div>Website Screenshot</div>
          <div style="font-size: 0.75rem; opacity: 0.9;">Coming Soon</div>
        </div>
      {% else %}
        <img src="{{ pub.image }}" alt="{{ pub.title }}" style="width: 100%; height: 100%; object-fit: contain; border-radius: 6px;">
      {% endif %}
    </div>
    <div class="pub-content">
      <div class="pub-status">{{ pub.status }}</div>
      <h4 class="pub-title">
        {{ pub.title }}
      </h4>
      <div class="pub-authors">
        {{ pub.authors }}
      </div>
      <div class="pub-links">
        {% if pub.website %}
        <span style="color: var(--text-muted-color); font-size: 0.9rem;">
          <i class="fas fa-globe"></i> {{ pub.website | replace: 'http://', '' | replace: 'https://', '' | replace: '/', '' }}
        </span>
        {% endif %}
        {% if pub.arxiv %}
        <a href="{{ pub.arxiv }}" target="_blank" rel="noopener noreferrer">
          <i class="fas fa-file-alt"></i> arXiv
        </a>
        {% endif %}
        {% if pub.github %}
        <a href="{{ pub.github }}" target="_blank" rel="noopener noreferrer">
          <i class="fab fa-github"></i> {{ pub.github_label | default: 'Code' }}
        </a>
        {% endif %}
      </div>
      <p class="pub-abstract">
        {{ pub.abstract }}
      </p>
    </div>
  </div>
  {% endfor %}
</section>

<!-- Blog -->
<section id="blog" style="margin-bottom: 4rem;">
  <h2 class="section-title" style="font-size: 1.8rem; margin-bottom: 2rem; font-weight: 600;">Blog</h2>
  
  {% assign posts = site.posts | limit: 3 %}
  <div class="blog-list">
    {% for post in posts %}
    <div id="blog-{{ forloop.index }}" style="margin-bottom: 2rem; padding-bottom: 2rem; border-bottom: 1px solid var(--border-color);">
      <h3 style="font-size: 1.3rem; margin-bottom: 0.5rem; font-family: 'Libre Baskerville', serif;">
        <a href="{{ post.url }}" style="color: var(--heading-color); text-decoration: none;">
          {{ post.title }}
        </a>
      </h3>
      <div style="color: var(--text-muted-color); font-size: 0.95rem; margin-bottom: 0.8rem;">
        <i class="far fa-calendar"></i> {{ post.date | date: "%B %d, %Y" }}
        {% if post.categories %}
        <span style="margin-left: 1rem;">
          <i class="fas fa-folder"></i>
          {% for category in post.categories %}
            {{ category }}{% unless forloop.last %}, {% endunless %}
          {% endfor %}
        </span>
        {% endif %}
      </div>
      <p style="color: var(--text-color); line-height: 1.7;">
        {{ post.description | default: post.excerpt | strip_html | truncate: 200 }}
      </p>
    </div>
    {% endfor %}
  </div>
  
  <div style="text-align: center; margin-top: 2rem;">
    <a href="/blog/" style="color: var(--link-color); font-size: 1.1rem; text-decoration: none; font-family: 'Crimson Pro', serif;">
      View All Posts <i class="fas fa-arrow-right"></i>
    </a>
  </div>
</section>
